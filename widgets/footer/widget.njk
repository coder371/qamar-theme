<footer class="footer py-12" style="background-color: {{ widget.data.background_color | default('#1a1a2e') }}">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">

      {# Store Info #}
      <div>
        {% if widget.data.show_logo %}
          {% if store.logo.fileUrl %}
            <img src="{{ store.logo.fileUrl }}" alt="{{ store.name }}" class="h-10 mb-4 brightness-0 invert">
          {% else %}
            <span class="text-2xl font-bold block mb-4 text-white">{{ store.name }}</span>
          {% endif %}
        {% endif %}
        <p class="text-gray-400 text-sm mb-4">
          {{ widget.data.description | default(store.description) | default('متجرك المفضل للتسوق الإلكتروني') | safe }}
        </p>

        {# Social Media #}
        {% if widget.data.show_social %}
          <div class="flex gap-3 mt-4">
            {% if widget.data.facebook_url %}
              <a href="{{ widget.data.facebook_url }}" target="_blank" rel="noopener" class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-primary transition-colors">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.77,7.46H14.5v-1.9c0-.9.6-1.1,1-1.1h3V.5h-4.33C10.24.5,9.5,3.44,9.5,5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4Z"/></svg>
              </a>
            {% endif %}
            {% if widget.data.instagram_url %}
              <a href="{{ widget.data.instagram_url }}" target="_blank" rel="noopener" class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-primary transition-colors">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12,2.16c3.2,0,3.58,0,4.85.07,3.25.15,4.77,1.69,4.92,4.92.06,1.27.07,1.65.07,4.85s0,3.58-.07,4.85c-.15,3.23-1.66,4.77-4.92,4.92-1.27.06-1.65.07-4.85.07s-3.58,0-4.85-.07c-3.26-.15-4.77-1.7-4.92-4.92-.06-1.27-.07-1.65-.07-4.85s0-3.58.07-4.85C2.38,3.92,3.9,2.38,7.15,2.23,8.42,2.18,8.8,2.16,12,2.16ZM12,0C8.74,0,8.33,0,7.05.07c-4.27.2-6.78,2.71-7,7C0,8.33,0,8.74,0,12s0,3.67.07,4.95c.2,4.27,2.71,6.78,7,7C8.33,24,8.74,24,12,24s3.67,0,4.95-.07c4.27-.2,6.78-2.71,7-7C24,15.67,24,15.26,24,12s0-3.67-.07-4.95c-.2-4.27-2.71-6.78-7-7C15.67,0,15.26,0,12,0Zm0,5.84A6.16,6.16,0,1,0,18.16,12,6.16,6.16,0,0,0,12,5.84ZM12,16a4,4,0,1,1,4-4A4,4,0,0,1,12,16ZM18.41,4.15a1.44,1.44,0,1,0,1.44,1.44A1.44,1.44,0,0,0,18.41,4.15Z"/></svg>
              </a>
            {% endif %}
            {% if widget.data.twitter_url %}
              <a href="{{ widget.data.twitter_url }}" target="_blank" rel="noopener" class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-primary transition-colors">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
              </a>
            {% endif %}
            {% if widget.data.tiktok_url %}
              <a href="{{ widget.data.tiktok_url }}" target="_blank" rel="noopener" class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-primary transition-colors">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/></svg>
              </a>
            {% endif %}
            {% if widget.data.snapchat_url %}
              <a href="{{ widget.data.snapchat_url }}" target="_blank" rel="noopener" class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-primary transition-colors">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12.17,2C9.51,2,7.29,3.31,6.26,5.57a9.34,9.34,0,0,0-.61,4v.33c-.68-.09-1.63-.3-2.11-.79a.53.53,0,0,0-.38-.16.51.51,0,0,0-.35.14.5.5,0,0,0,0,.71c.84.84,2.33,1.11,3,.1.16a7.68,7.68,0,0,1-.62,2.82c-.53,1.06-1.85,2.26-3.48,2.63a.5.5,0,0,0-.38.56.51.51,0,0,0,.42.44,5.68,5.68,0,0,0,.84.06A5.67,5.67,0,0,0,4.8,17a3.45,3.45,0,0,1,.74.5,4.65,4.65,0,0,1,.87,1.08.52.52,0,0,0,.45.27.56.56,0,0,0,.18,0,8.69,8.69,0,0,1,2.34-.82,3.08,3.08,0,0,1,.57-.05,2.28,2.28,0,0,1,.68.1,6.49,6.49,0,0,0,2.54.75,6.61,6.61,0,0,0,2.54-.74,2.22,2.22,0,0,1,.67-.1,3.08,3.08,0,0,1,.57.05,8.69,8.69,0,0,1,2.34.82.56.56,0,0,0,.18,0,.52.52,0,0,0,.45-.27,4.65,4.65,0,0,1,.87-1.08,3.45,3.45,0,0,1,.74-.5,5.67,5.67,0,0,0,2.21-.6,5.68,5.68,0,0,0,.84-.06.51.51,0,0,0,.42-.44.5.5,0,0,0-.38-.56c-1.63-.37-3-1.57-3.48-2.63a7.68,7.68,0,0,1-.62-2.82c.67,0,2.16-.27,3-.16a.5.5,0,0,0,0-.71.51.51,0,0,0-.35-.14.53.53,0,0,0-.38.16c-.48.49-1.43.7-2.11.79V9.53a9.34,9.34,0,0,0-.61-4C16.88,3.31,14.66,2,12,2Z"/></svg>
              </a>
            {% endif %}
            {% if widget.data.whatsapp_number %}
              <a href="https://wa.me/{{ widget.data.whatsapp_number }}" target="_blank" rel="noopener" class="w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-green-500 transition-colors">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.47,22.25c-1.67,0-4.16-.91-7.21-3.16a20.24,20.24,0,0,1-5.2-5.62A11.76,11.76,0,0,1,3.17,7.35a4.16,4.16,0,0,1,1.4-3.22,3.2,3.2,0,0,1,2-1A1.59,1.59,0,0,1,8,3.89l1.83,3.19a1.88,1.88,0,0,1-.43,2.38l-.54.54a.3.3,0,0,0-.07.34,10.53,10.53,0,0,0,2.22,2.93,10.2,10.2,0,0,0,3.09,2.19.31.31,0,0,0,.34-.07l.49-.49a1.87,1.87,0,0,1,2.42-.39l3.2,1.89a1.59,1.59,0,0,1,.72,1.45,3.26,3.26,0,0,1-1,2A4.2,4.2,0,0,1,17.47,22.25ZM6.12,5.11a1.25,1.25,0,0,0-.78.35A2.18,2.18,0,0,0,4.67,7.2a9.84,9.84,0,0,0,1.62,5.4A18.57,18.57,0,0,0,11,17.32c3.57,2.64,5.76,2.94,6.51,2.94a2.2,2.2,0,0,0,1.74-.68,1.28,1.28,0,0,0,.36-.79c0-.11,0-.17-.16-.26l-3.2-1.89a.38.38,0,0,0-.5.08l-.49.49A1.81,1.81,0,0,1,13.51,18a11.71,11.71,0,0,1-3.65-2.56,12,12,0,0,1-2.6-3.44,1.79,1.79,0,0,1,.46-2l.54-.54a.38.38,0,0,0,.07-.49L6.5,5.78A.59.59,0,0,0,6.12,5.11ZM20.5,24h-.08A20.66,20.66,0,0,1,0,3.58,3.5,3.5,0,0,1,3.5,0h.08A20.66,20.66,0,0,1,24,20.42,3.5,3.5,0,0,1,20.5,24ZM3.5,2A1.5,1.5,0,0,0,2,3.58,18.65,18.65,0,0,0,20.42,22,1.5,1.5,0,0,0,22,20.42,18.65,18.65,0,0,0,3.58,2Z"/></svg>
              </a>
            {% endif %}
          </div>
        {% endif %}
      </div>

      {# Menu 1 #}
      <div>
        <h3 class="footer-title text-lg">{{ widget.data.menu_1_title | default('روابط سريعة') }}</h3>
        <ul class="space-y-2">
          {% for item in widget.data.footer_menu_1 %}
            <li>
              <a href="{{ item.url | default('#') }}" class="text-gray-400 hover:text-secondary transition-colors">
                {{ item.title }}
              </a>
            </li>
          {% else %}
            <li><a href="/products" class="text-gray-400 hover:text-secondary transition-colors">{{t("common.products")}}</a></li>
            <li><a href="/collections" class="text-gray-400 hover:text-secondary transition-colors">{{t("common.categories")}}</a></li>
            <li><a href="/about" class="text-gray-400 hover:text-secondary transition-colors">{{t("footer.about_us")}}</a></li>
            <li><a href="/contact" class="text-gray-400 hover:text-secondary transition-colors">{{t("footer.contact_us")}}</a></li>
          {% endfor %}
        </ul>
      </div>

      {# Menu 2 #}
      <div>
        <h3 class="footer-title text-lg">{{ widget.data.menu_2_title | default('خدمة العملاء') }}</h3>
        <ul class="space-y-2">
          {% for item in widget.data.footer_menu_2 %}
            <li>
              <a href="{{ item.url | default('#') }}" class="text-gray-400 hover:text-secondary transition-colors">
                {{ item.title }}
              </a>
            </li>
          {% else %}
            <li><a href="/shipping" class="text-gray-400 hover:text-secondary transition-colors">{{t("footer.shipping")}}</a></li>
            <li><a href="/returns" class="text-gray-400 hover:text-secondary transition-colors">{{t("footer.returns")}}</a></li>
            <li><a href="/faq" class="text-gray-400 hover:text-secondary transition-colors">{{t("footer.faq")}}</a></li>
            <li><a href="/privacy" class="text-gray-400 hover:text-secondary transition-colors">{{t("footer.privacy_policy")}}</a></li>
          {% endfor %}
        </ul>
      </div>

      {# Newsletter #}
      {% if widget.data.show_newsletter %}
        <div>
          <h3 class="footer-title text-lg">{{ widget.data.newsletter_title | default('اشترك في نشرتنا البريدية') }}</h3>
          <p class="text-gray-400 text-sm mb-4">
            {{ widget.data.newsletter_text | default('احصل على آخر العروض والمنتجات الجديدة') }}
          </p>
          <form class="flex gap-2" x-data="{ email: '', loading: false, success: false }" @submit.prevent="loading = true; setTimeout(() => { loading = false; success = true; }, 1000);">
            <input
              type="email"
              x-model="email"
              placeholder="{{t('footer.newsletter_placeholder')}}"
              class="flex-1 px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-primary"
              required>
            <button
              type="submit"
              :disabled="loading"
              class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50">
              <span x-show="!loading && !success">{{t("footer.newsletter_button")}}</span>
              <span x-show="loading" class="loading-spinner w-5 h-5 mx-auto"></span>
              <svg x-show="success" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
            </button>
          </form>
        </div>
      {% endif %}

    </div>

    {# Copyright #}
    <div class="border-t border-white/10 mt-8 pt-8 text-center">
      <p class="text-gray-400 text-sm">
        {{ widget.data.copyright_text | default('جميع الحقوق محفوظة') }} © {{ store.name }} {{ "now" | date("Y") }}
      </p>
    </div>
  </div>
</footer>
